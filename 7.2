#include <iostream>
using namespace std;
char destino() {
	char a;
	do {
		cout << "Ingrese el destino (C: Cajamarca; T: Tacna; H: Huaraz; F: Fin): ";
		cin >> a;
		a = toupper(a);
	} while (a != 'C' && a != 'T' && a != 'H' && a != 'F');
	return a;
}
int dias() {
	char c;
	do {
		cout << "Cuantos dias viajara: ";
		cin >> c;
	} while (c < 2);
	return c;
}
double pagar(char a, char b, int d) {
	double ahoram;
	if (a == 'C') {
		if (b == 'B') { ahoram = 165 + (20 * d) * 2.68; }
		else { ahoram = 84 * 2.68 + (20 * d) * 2.68; }
	}
	else if (a == 'T') {
		if (b == 'B') { ahoram = 138 + (30 * d) * 2.68; }
	    else { ahoram = 133 * 2.68 + (30 * d) * 2.68; }
	}
	else {
		 ahoram = 63 + (30 * d) * 2.68;
	}
	return ahoram;
}
int main() {
	int tr = 0, v = 0, h = 0, c = 0, t = 0;
	double mont, mon, total = 0, montob = 0, montoa = 0;
	char b;
	char a = destino();
	a = toupper(a);
	while (a != 'F') {
		if (a == 'H') b = 'B';
		else {
			do {
				if (a == 'H') break;
				cout << "Tipo de transporte (B: Bus; A: Avion): ";
				cin >> b;
				b = toupper(b);
			} while (b != 'B' && b != 'A');
		}
		int d = dias();
		switch (a) {
		case 'C':v++;
			c++;
			break;
		case 'T': tr++;
			v++;
			t++;
			break;
		case 'H':tr++;
			v++;
			h++;
		}
		if (b == 'B') mont = 165 * c + 138 * t + 63 * h;
		if (b == 'A') mon = 84 * c + 133 * t;
		pagar(a, b, d);
		cout << "Monto a pagar: " << pagar(a, b,d) << endl;
		cout << endl;
		total = total + pagar(a, b, d);
		montob = montob + mont;
		montoa = montoa + mon;
		char a = destino();
		a = toupper(a);
		if (a == 'F') break;
	}
	cout << "Cantidad de viajeros que van a un hotel de US$ 30: " << tr << endl;
	cout << "Porcentaje de viajeros que eligieron viajar a Huaraz : " << (float)(h * 100.00) / v <<"%"<< endl;
	cout << "Ingreso total de dinero en nuevos soles por bus : " << montob << endl;
	cout << "Ingreso total en dolares por avion : " << montoa << endl;
	cout << "Ingreso total en Nuevos Soles : " << total << endl;
	return 0;
}
